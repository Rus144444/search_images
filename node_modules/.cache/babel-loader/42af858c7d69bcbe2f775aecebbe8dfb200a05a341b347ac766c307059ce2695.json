{"ast":null,"code":"var _jsxFileName = \"/Users/ruslan/Desktop/pro/react-axios/my-app/src/App.js\";\nimport React, { Component } from \"react\";\nimport { Searchbar } from \"./Searchbar/Searchbar\";\nimport { fetchImages } from \"./service/response\";\nimport { Modal } from \"./Modal/Modal\";\nimport { ImageGalleryItem } from \"./ImageGalleryItem/ImageGalleryItem\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ImageGallery extends Component {\n  render() {\n    const {\n      images,\n      onImageClick\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"gallery\",\n      children: images.map(image => /*#__PURE__*/_jsxDEV(ImageGalleryItem, {\n        image: image,\n        onClick: onImageClick\n      }, image.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass Button extends Component {\n  render() {\n    const {\n      onClick\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button-load\",\n      onClick: onClick,\n      children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0431\\u043E\\u043B\\u044C\\u0448\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass Loader extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this);\n  }\n}\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      query: \"\",\n      page: 1,\n      loading: false,\n      largeImage: null,\n      error: null\n    };\n    this.handleSearch = newQuery => {\n      this.setState({\n        query: newQuery,\n        page: 1,\n        images: [],\n        error: null\n      });\n    };\n    this.handleImageClick = imageUrl => {\n      this.setState({\n        largeImage: imageUrl\n      });\n    };\n    this.handleLoadMore = () => {\n      this.setState(prevState => ({\n        page: prevState.page + 1\n      }));\n    };\n    this.handleCloseModal = () => {\n      this.setState({\n        largeImage: null\n      });\n    };\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      query,\n      page\n    } = this.state;\n    if (prevState.query !== query || prevState.page !== page) {\n      fetchImages();\n    }\n  }\n  render() {\n    const {\n      images,\n      loading,\n      error,\n      largeImage\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n        onSubmit: this.handleSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n        images: images,\n        onImageClick: this.handleImageClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this), images.length > 0 && !loading && /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.handleLoadMore\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), largeImage && /*#__PURE__*/_jsxDEV(Modal, {\n        largeImage: largeImage,\n        onClose: this.handleCloseModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","Searchbar","fetchImages","Modal","ImageGalleryItem","jsxDEV","_jsxDEV","ImageGallery","render","images","onImageClick","props","className","children","map","image","onClick","id","fileName","_jsxFileName","lineNumber","columnNumber","Button","Loader","App","constructor","args","state","query","page","loading","largeImage","error","handleSearch","newQuery","setState","handleImageClick","imageUrl","handleLoadMore","prevState","handleCloseModal","componentDidUpdate","prevProps","onSubmit","length","onClose"],"sources":["/Users/ruslan/Desktop/pro/react-axios/my-app/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Searchbar } from \"./Searchbar/Searchbar\";\nimport { fetchImages } from \"./service/response\";\nimport { Modal } from \"./Modal/Modal\";\nimport { ImageGalleryItem } from \"./ImageGalleryItem/ImageGalleryItem\";\n\nclass ImageGallery extends Component {\n  render() {\n    const { images, onImageClick } = this.props;\n    return (\n      <ul className=\"gallery\">\n        {images.map((image) => (\n          <ImageGalleryItem\n            key={image.id}\n            image={image}\n            onClick={onImageClick}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nclass Button extends Component {\n  render() {\n    const { onClick } = this.props;\n    return (\n      <button className=\"button-load\" onClick={onClick}>\n        Загрузить больше\n      </button>\n    );\n  }\n}\n\nclass Loader extends Component {\n  render() {\n    return (\n      <div className=\"loader\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n}\n\nclass App extends Component {\n  state = {\n    images: [],\n    query: \"\",\n    page: 1,\n    loading: false,\n    largeImage: null,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page } = this.state;\n    if (prevState.query !== query || prevState.page !== page) {\n      fetchImages();\n    }\n  }\n\n  handleSearch = (newQuery) => {\n    this.setState({\n      query: newQuery,\n      page: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  handleImageClick = (imageUrl) => {\n    this.setState({ largeImage: imageUrl });\n  };\n\n  handleLoadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  handleCloseModal = () => {\n    this.setState({ largeImage: null });\n  };\n\n  render() {\n    const { images, loading, error, largeImage } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleSearch} />\n        {error && <p className=\"error\">{error}</p>}\n        <ImageGallery images={images} onImageClick={this.handleImageClick} />\n        {loading && <Loader />}\n        {images.length > 0 && !loading && (\n          <Button onClick={this.handleLoadMore} />\n        )}\n        {largeImage && (\n          <Modal largeImage={largeImage} onClose={this.handleCloseModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}