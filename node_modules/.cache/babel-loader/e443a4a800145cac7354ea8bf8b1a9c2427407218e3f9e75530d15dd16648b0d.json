{"ast":null,"code":"const API_KEY = \"your_key\";\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst fetchImages = async () => {\n  const {\n    query,\n    page\n  } = this.state;\n  if (!query) return;\n  this.setState({\n    loading: true\n  });\n  try {\n    const response = await fetch(`${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`);\n    const data = await response.json();\n    if (data.hits) {\n      this.setState(prevState => ({\n        images: page === 1 ? data.hits : [...prevState.images, ...data.hits]\n      }));\n    } else {\n      this.setState({\n        error: \"Изображения не найдены\"\n      });\n    }\n  } catch (error) {\n    this.setState({\n      error: \"Что-то пошло не так. Попробуйте снова позже.\"\n    });\n  } finally {\n    this.setState({\n      loading: false\n    });\n  }\n};\nexport { fetchImages };","map":{"version":3,"names":["API_KEY","BASE_URL","fetchImages","query","page","state","setState","loading","response","fetch","data","json","hits","prevState","images","error"],"sources":["/Users/ruslan/Desktop/pro/react-axios/my-app/src/service/response.js"],"sourcesContent":["const API_KEY = \"your_key\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nconst fetchImages = async () => {\n  const { query, page } = this.state;\n  if (!query) return;\n\n  this.setState({ loading: true });\n\n  try {\n    const response = await fetch(\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    );\n    const data = await response.json();\n    if (data.hits) {\n      this.setState((prevState) => ({\n        images: page === 1 ? data.hits : [...prevState.images, ...data.hits],\n      }));\n    } else {\n      this.setState({ error: \"Изображения не найдены\" });\n    }\n  } catch (error) {\n    this.setState({ error: \"Что-то пошло не так. Попробуйте снова позже.\" });\n  } finally {\n    this.setState({ loading: false });\n  }\n};\n\nexport { fetchImages };\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG,UAAU;AAC1B,MAAMC,QAAQ,GAAG,0BAA0B;AAE3C,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAM;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAG,IAAI,CAACC,KAAK;EAClC,IAAI,CAACF,KAAK,EAAE;EAEZ,IAAI,CAACG,QAAQ,CAAC;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC;EAEhC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,GAAGR,QAAQ,MAAME,KAAK,SAASC,IAAI,QAAQJ,OAAO,sDACpD,CAAC;IACD,MAAMU,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAClC,IAAID,IAAI,CAACE,IAAI,EAAE;MACb,IAAI,CAACN,QAAQ,CAAEO,SAAS,KAAM;QAC5BC,MAAM,EAAEV,IAAI,KAAK,CAAC,GAAGM,IAAI,CAACE,IAAI,GAAG,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAE,GAAGJ,IAAI,CAACE,IAAI;MACrE,CAAC,CAAC,CAAC;IACL,CAAC,MAAM;MACL,IAAI,CAACN,QAAQ,CAAC;QAAES,KAAK,EAAE;MAAyB,CAAC,CAAC;IACpD;EACF,CAAC,CAAC,OAAOA,KAAK,EAAE;IACd,IAAI,CAACT,QAAQ,CAAC;MAAES,KAAK,EAAE;IAA+C,CAAC,CAAC;EAC1E,CAAC,SAAS;IACR,IAAI,CAACT,QAAQ,CAAC;MAAEC,OAAO,EAAE;IAAM,CAAC,CAAC;EACnC;AACF,CAAC;AAED,SAASL,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}